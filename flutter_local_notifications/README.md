# flutter_local_notifications

[![pub package](https://img.shields.io/pub/v/flutter_local_notifications.svg)](https://pub.dartlang.org/packages/flutter_local_notifications)
![Build Status](https://github.com/MaikuB/flutter_local_notifications/actions/workflows/validate.yml/badge.svg)

A cross platform plugin for displaying local notifications.

> [!IMPORTANT]
>
> **Local Notifications** are very different than **Push Notifications**! Push notifications, as offered by Firebase Cloud Messaging and Apple's Push Notifications Service, are sent from the server to your users directly, while local notifications are generated by the app on the user's device and not from your server.
>
> **This package only supports local notifications**. Please do not open issues about push notifications. Note, however, if you want to use this package for push notifications, you can configure your push notification code to intercept the data *without* sending a notification, then use this plugin to actually show the notification, with all the customization options this plugin supports.

## Setting Up

This plugin has **a lot** of small details to get right. It's recommended to read, configure, and test one platform at a time before moving onto the next, as each platform has its own set of nuances. Each supported platform is listed in the table below. To get started:

1. Some platforms need special setup at build time. Read the Setup Guide for your platform
2. Read the [General Usage Guide](./docs/usage.md) (relevant for all platforms)
3. Read the Usage Guide for your platform

| Platform | Minimum Supported Version | APIs Used                                                    | Setup Guide                              | Usage Guide                              |
| -------- | ------------------------- | ------------------------------------------------------------ | ---------------------------------------- | ---------------------------------------- |
| Android  | Lollipop (API Level 21)   | [`NotificationCompat`](https://developer.android.com/reference/androidx/core/app/NotificationCompat) | [Android Setup](./docs/android-setup.md) | [Android Usage](./docs/android-usage.md) |
| iOS      | iOS 12                    | [`UserNotification`](https://developer.apple.com/documentation/usernotifications) | [iOS Setup](./docs/ios-setup.md)         | [Darwin Usage](./docs/darwin-usage.md)   |
| MacOS    | Mojave (MacOS 10.14)      | [`UserNotification`](https://developer.apple.com/documentation/usernotifications) | N/A                                      | [Darwin Usage](./docs/darwin-usage.md)   |
| Linux    | Ubuntu 20.04, Debian 9    | [FreeDesktop Notifications](https://specifications.freedesktop.org/notification-spec/latest/) | N/A                                      | [Linux Usage](./docs/linux-usage.md)     |
| Windows  | Windows 10                | [`ToastNotification`](https://learn.microsoft.com/en-us/windows/apps/design/shell/tiles-and-notifications/toast-notifications-overview) | [Windows Setup](./docs/windows-setup.md) | [Windows Usage](./docs/windows-usage.md) |

## Simple usage

Every platform has different features, but here is a very brief overview of the basics, using Android as an example:

### Initialize the application

```dart
// 1. Define a handler to receive notification presses (when the app is running)
void onNotificationTapped(NotificationResponse response) {
  final messageID = response.payload;
  final actionID = response.actionId;
  final userInput = response.input;
  if (actionID == "reply") await myApp.respondToMessage(messageID, userInput);
}

// 2. Register the handler, along with any platform-specific settings
final androidSettings = AndroidInitializationSettings("app_icon");
final plugin = FlutterLocalNotificationsPlugin();
await plugin.initialize(
	InitializationSettings(android: androidSettings),
  onDidReceiveNotificationResponse: onNotificationTapped,
);

final androidPlugin = plugin
  .resolvePlatformSpecificImplementation
  <AndroidFlutterLocalNotificationsPlugin>();

// 3. Request permission (after a user interaction)
await androidPlugin?.requestNotificationsPermission();

// 4. Create any notification channels that will be needed
final messagesChannel = AndroidNotificationChannel("chat", "Chat Messages");
await androidPlugin?.createNotificationChannel(messagesChannel);
```

### Show a notification

```dart
// Define your platform-specific details
final details = AndroidNotificationDetails(
	"chat",  "Chat Messages",
  actions: [
    AndroidNotificationAction("_", "Ignore"),
    AndroidNotificationAction(
      "reply", "Reply",
      inputs: [
        AndroidNotificationActionInput(label: "Enter a message..."),
      ],
    )
  ]
);

// Show the notification
await plugin.show(
  0, "Alice sent you a message!", "Hey, are you available?",
	NotificationDetails(android: details),
  payload: "message_ID_123",
);
```

### Gallery

| <img src="https://github.com/Levi-Lesches/flutter_local_notifications/raw/readme-refactor/images/android_notification.png" style="zoom:50%;" /> | <img src="https://github.com/Levi-Lesches/flutter_local_notifications/raw/readme-refactor/images/ios_notification.png" style="zoom:50%;" /> | <img src="https://github.com/Levi-Lesches/flutter_local_notifications/raw/readme-refactor/images/gnome_linux_notification.png" style="zoom:200%;" /> |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| <img src="https://github.com/Levi-Lesches/flutter_local_notifications/raw/readme-refactor/images/kde_linux_notification.png" style="zoom:200%;" /> | <img src="https://github.com/Levi-Lesches/flutter_local_notifications/raw/readme-refactor/images/macos_notification.png" style="zoom:50%;" /> | <img src="https://github.com/Levi-Lesches/flutter_local_notifications/raw/readme-refactor/images/windows_notification.png" style="zoom:200%;" /> |

## Supported Features

There are *many* features supported by all the platforms, but here are the most common ones:

| Feature                           | Android            | iOS / MacOS        | Linux*               | Windows              |
| --------------------------------- | ------------------ | ------------------ | -------------------- | -------------------- |
| Show notifications                | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark:   | :heavy_check_mark:   |
| Handle notification response      | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark:   | :heavy_check_mark:   |
| Request permissions               | :heavy_check_mark: | :heavy_check_mark: | :heavy_minus_sign:** | :heavy_minus_sign:** |
| Schedule notifications            | :heavy_check_mark: | :heavy_check_mark: | :x:                  | :heavy_check_mark:   |
| Repeating notifications           | :heavy_check_mark: | :heavy_check_mark: | :x:                  | :x:                  |
| Notification actions (buttons)    | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark:   | :heavy_check_mark:   |
| Notification actions (text field) | :heavy_check_mark: | :heavy_check_mark: | :x:                  | :heavy_check_mark:   |
| Stylized notifications            | :heavy_check_mark: | :x:                | :heavy_check_mark:   | :heavy_check_mark:   |
| Notification Grouping             | :heavy_check_mark: | :heavy_check_mark: | :x:                  | :heavy_check_mark:   |
| Custom images and sounds          | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark:   | :heavy_check_mark:   |
| Bypass Do Not Disturb             | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark:   | :heavy_check_mark:   |

\* Linux features are dependent on the device's [notification server capabilities](./docs/linux-usage.md#server-capabilities)

\*\* Permissions not required for Linux and Windows devices

## Need help?

There is a fully-setup [example app](https://github.com/MaikuB/flutter_local_notifications/tree/master/flutter_local_notifications/example) with almost every feature this plugin supports. If you're having issues or something is unclear, please check the app for its configuration and usage. Remember to read the [General Usage Guide](./docs/usage.md), as well as your specific platform's setup and usage guides, linked in the table above. If you have a question on the API, try searching the [API Reference](https://pub.dev/documentation/flutter_local_notifications/latest/).

If you're still having issues, feel free to file an issue on GitHub, and be sure to share a link to your repository so that we can reproduce the issue. **Just submitting code or an error output isn't enough**, since there are so many complex setup steps involved. If you cannot share your app's code, make a [Minimally Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) and share that with us. If you cannot reproduce the error, it is likely that you're missing a step or have a conflicting plugin causing the issues

## Acknowledgements

* [Javier Lecuona](https://github.com/javiercbk) for adding the ability to have notifications shown daily
* [Jeff Scaturro](https://github.com/JeffScaturro) for fixing the iOS issue around repeating notifications and migrating the plugin to AndroidX
* [Ian Cavanaugh](https://github.com/icavanaugh95) for helping create a sample to reproduce the problem reported in [issue #88](https://github.com/MaikuB/flutter_local_notifications/issues/88)
* [Zhang Jing](https://github.com/byrdkm17) for adding 'ticker' support for Android notifications
* [Kenneth](https://github.com/kennethnym), [lightrabbit](https://github.com/lightrabbit), and [Levi Lesches](https://github.com/Levi-Lesches) for adding Windows support and overhauling the documentation
* ...and everyone else for their contributions. They are greatly appreciated
